# 后端开发说明  
这个项目其实发布到群里了，不过是我自己发起的，别人没多大的兴趣来看。开源团队其实很松散的，我自己来做出来好了，一个人是最灵活的。
vue-admin-template 这个怎么构建一个完善的后台，我还不是很熟，所以先把api写好，这样就不用在前后端来回切换了。    

后续如果有前端来参与开发，所以文档工作需要做好，用swagger来生成文档，PostMan 是支持直接导入的。 


先尽量见得地来做，后续再完善。下面这些要求，用最简单的方式来实现，越简单越好。    

接口开发
用户登陆 ts_user 表的管理员都可以登陆这个后台   
wechat bot 登陆状态，登陆以及注销操作   
好友列表、群列表、群详情，甚至可以查看历史消息记录，图片、文件忽略，一律记录文字
消息历史记录，好友消息，群消息  
定时任务，推送消息给好友和群    
消息推送接口，接收参数，推送给相应的群和好友    

# 细分开发任务
* [x] `.env`文件 ，然后配置文件里读环境变量 
* [x] request 参数验证  
* [x] 日志记录库    
* [x] ORM模型来做增删改查，以及保持原生的查询能力   
* [x] 登录以及jwt权限验证   
* [ ] 反复摸索 wechaty api 和 微信消息的内容    
    * [x] 设计相关数据表，查看微信群 微信好友 微信公众号
    * [x] 监听相关消息，看看消息格式，如何设计相关数据表
    * [ ] 好友申请处理
* [x] 移植 wechaty-web-panel 的代码，非常的完善，把表建好，就可以写了   
   * [x] 移植 wechaty-web-panel代码的过程中，慢慢理解其编程思维，将部分的请求后端apimock掉，让整个流程能够跑起来
   * [x] 吸收 wechat-web-panel 的编程思想，来开发自己的机器人。一下子搞定不了那么多，慢慢来消化，先实现些简单的功能。 
* [x] 初始化微信bot，将好友和群入库
* [x] 封装消息队列，让所有发送消息入列，然后定时出列发送消息。用延时函数比较简单，暂时不用消息队列。  
* [x] 使用多个bot示例，支持多个用户登录使用。【哈哈，这个后面再说哈哈】**暂不考虑**。     
* [ ] 将微信群与微澜分馆绑定，当分馆有消息时，推送消息入群。
    * [x] 简答的操作直接在数据库，后续再来写后台。 
    * [x] 写api来获取这些数据，然后写后台来进行关联。    
    * [x] 先做最简单的示例，拿微澜开发者群来实验，所有的仓库变动全部推送到群里去。 
* [ ] 监听各种事件消息，设计相关数据表，入库。新群组和新好友以及新消息需要入库。后续padlocal才有意义。   
* [ ] OAuth2的appid与appsecret，提供开放的接口，提供给社区服务调用。或者生成用户token，根据token来提供相关的机器人使用。        
* [ ] 定时任务功能  
* [x] 能够推送到指定的群和好友消息，多种形式的消息类型，提供这类函数，然后开放成api。[暂时只提供文本类型消]    
